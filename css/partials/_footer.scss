// Footer layout
.wrap-footer, 
.wrap-footer-institute {
  @include clearfix;
  max-width: 114rem;
  margin: 0 auto;
  padding: 10px 4%;
}

.wrap-footer {
  padding: 3.5rem 4%;

  .wrap-sitemap {

    // hide the sub menu items on small screens
    .menu-sub {
      display: none;
    }
  }

  .identity {
    margin-top: 4rem;
    margin-bottom: 2rem;
  }

  .wrap-logo-lib {
    display: inline-block;
    vertical-align: bottom;
    margin: 0 20px 20px 0;
  }

  .wrap-social {
    display: inline-block;
    vertical-align: bottom;
    margin-bottom: 20px;
  }

  .wrap-policies {
    width: 100%;
    border-top: 1px solid $gray;
    padding-top: 2rem;

    span {
      display: inline-block;
      margin: 1rem 1.5rem 1rem 0;

      &:after {
        content:'';
      }
    }
  }

  .wrap-social .text-find-us {
    display: none;
  }

  // bigger than small mobile - able to handle columns ok
  @media (min-width: $bp-screen-md) {

    .wrap-sitemap {
      display: flex;
      flex-direction: row;

      .col {
        margin-right: 3%;

        &:last-child {
          margin-right: 0;
        } 
      }

      .menu-sub {
        display: block;
      }
    }

    .identity {
      display: flex;
      flex-wrap: wrap;
      justify-content: space-between;
      margin: 4% 0 0 0;
    }

    .wrap-logo-lib, 
    .wrap-policies, 
    .wrap-social {
      align-self: flex-end;
      margin-top: 0;
      margin-bottom: 0;
    }

    .wrap-logo-lib {
      order: 1;
      margin-right: 4%;
    }

    .wrap-policies {
      order: 2;
      padding: auto;
      border-top: none;
      width: auto;

      span {
        margin-top: 0;
        margin-bottom: 0;
      }
    }

    .wrap-social {
      order: 3;
      margin-left: auto;
    }
  }

  // large screen - able to handle several inline items
  @media (min-width: $bp-screen-lg) {

    .wrap-social {
      order: 3;
    }

    .wrap-policies {
      order: 2;
    }

  }
}

// footer - adjustments for slim
.wrap-footer.footer-slim {
  padding: 1.5rem 4%;

  .wrap-middle {
    order: 2;
    display: flex;
    flex: 1; // No other element gets a value, forcing this element to be greedy in its sizing
    flex-direction: column;
    align-items: flex-start;

    .wrap-policies {
      align-self: flex-start; // This overrides the flex-end applicable to vertial alignment in full footer.
    }

    .wrap-sitemap {
      display: inline-block;
      margin-bottom: 2rem;

      .item {
        display: block;
        margin-right: 10px;
        margin-bottom: 5px;
      }
    }
  }


  // larger screen - able to handle several inline items
  @media (min-width: $bp-screen-md) {

    .wrap-middle {
      order: 2;

      .wrap-policies {
        margin-left: 2%;
        order: 2;
      }

      .wrap-sitemap {
        display: inline-block;
        margin-left: 2%;
        margin-bottom: auto;
        order: 1;

        .item {
          display: inline-block;
          margin-bottom: auto;
        }
      }
    }

    .wrap-social {
      order: 3;
    }
  }

  @media (min-width: $bp-screen-lg) {
    .wrap-policies {
    }

    .wrap-sitemap {
    }
  }
}

// mit institute footer
.wrap-footer-institute {
  padding: 20px 4%;
}


// footer styles

.wrap-outer-footer {
  background-color: $black;
  color: $white;
  font-size: $fs-xsmall;
}

.wrap-footer {
    background: $black url('#{$imagesPath}/vi-shape7-tp.svg') no-repeat 10% center;

  a {
    @extend %link;
    color: $white;
    text-decoration: none;
  }

  .title {
    @extend .hd-6;
    margin-bottom: .8rem;
  }

  .wrap-list .link-sub {
    display: list-item;
    list-style-type: none;
    margin-bottom: .65rem;
    font-weight: $fw-light;
  }

  .logo-mit-lib {
    fill: $white;

    img {
      max-height: 60px;
      max-width: 100%;
      vertical-align: baseline;
    }
  }

  .wrap-policies {
    @extend .list-inline-pipe;
    font-size: $fs-small;
  }

  .wrap-social {

    p, a {
      display: inline-block;
      vertical-align: middle;
      margin-left: .5rem;
      margin-bottom: 0;
      text-transform: uppercase;
      font-size: $fs-xsmall;
    }

    svg {
      height: 2em;
      width: 2em;
      border-radius: 50%;
      padding: 0.2em;
      background: $white none repeat scroll 0 0;

      path {
        fill: $gray-d1;      
      }
    }
  }
}

// footer - adjustments for slim
.wrap-footer.footer-slim {

  .sitemap-libraries-abbrev a {
    @extend .list-inline-pipe;
    font-size: $fs-small;
  }

}

// MIT footer
.wrap-outer-footer-institute {
  background-color: $gray-d1;
  font-size: $fs-xxsmall;
  color: $gray-l3;

  .footer-info-institute {
    display: flex;
    justify-content: space-between;
    align-items: end;
  }

  a {
    @extend %link;
    color: $white;
  }

  .link-logo-mit {

    .logo-mit {
      fill: $gray-l2;

      .color {
        fill: $white;
      }
    }
  }

  .about-mit {
    color: $gray-l3;
    margin-right: 4%;
    text-transform: uppercase;
    white-space: nowrap;
  }

  .license {
    margin-left: auto;
    margin-top: 1rem;
    color: $gray-l3;
  }
}

