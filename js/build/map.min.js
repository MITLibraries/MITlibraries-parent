$(function(){var c,e,o,m=new Array,r="",d="/wp-content/themes/libraries/images/";e=document.getElementById("map"),o={center:new google.maps.LatLng(42.35978069999999,-71.09360909999998),zoom:15,mapTypeId:google.maps.MapTypeId.ROADMAP},c=new google.maps.Map(e,o),$("#mapMarkers .location").each(function(){var e=$(this).find(".name").html();e=e.replace("&amp;","&");var o=parseFloat($(this).find(".lat").html()),a=parseFloat($(this).find(".lng").html()),n=$(this).find(".description").html(),t=$(this).find(".id").html(),i=new google.maps.LatLng(o,a),l=(new google.maps.InfoWindow({}),new InfoBox({content:n,disableAutoPan:!1,maxWidth:280,pixelOffset:new google.maps.Size(-140,-181),boxStyle:{opacity:1},closeBoxURL:d+"close-sfw.gif",closeBoxMargin:"4px 4px 4px 4px",infoBoxClearance:new google.maps.Size(1,1),isHidden:!1,pane:"floatPane",enableEventPropagation:!1})),s=new google.maps.MarkerImage(d+"map-marker-active.png"),g=new google.maps.MarkerImage(d+"map-marker-default.png"),p=new google.maps.Marker({position:i,map:c,icon:g,html:n,id:t,title:e});google.maps.event.addListener(p,"click",function(){for(var e=0;e<m.length;e++)m[e].setIcon(g);this.setIcon(s)}),google.maps.event.addListener(p,"click",function(){""!=r&&r.close(),(r=l).open(c,p)}),google.maps.event.addListener(c,"click",function(){l&&(l.close(),p.setIcon(g))}),google.maps.event.addListener(l,"closeclick",function(){p.setIcon(g)}),m.push(p)}),google.maps.event.addListener(c,"idle",function(){jQuery(".gm-style").removeClass("gm-style")}),function(){$(".map").click(function(e){var o=$(this).attr("data-target");for(i=0;i<m.length;i++){var a=m[i];a.id==o&&(a,c.panTo(a.getPosition()),google.maps.event.trigger(a,"click"))}$("html, body").animate({scrollTop:0},500)});var e=location.hash.substr(2);""!=e&&("map"==e?$("#showMap").click():$("a[href='#!"+e+"']").click())}()});